Стратегическое
==============
- [x] FPTU, FPTA: datetime вместо fptu_192.
      Исходно есть возможность хранить время в fput_uint64_t, но в последствии
      пришло понимание что явный тип удобнее, так как страхует от ряда ошибок.
- [ ] MDBX: асинхронная фиксация, очередь чекпоинтов, триггеры и пороги,
      автоматическая конвертация weak в steady.
      Цель доработок в том, чтобы асинхронная фиксация данных выполнялась
      в соответствии с порядком транзакций, а также автоматически
      отражалась в сильных (strong) контрольных точках. Таким образом,
      чтобы при заданном (контролируемом пользователем или максимальном)
      уровне загрузки дисковой подсистемы, последняя сильная контрольная точка
      минимально отставала от последней асинхронно завершенной транзакции.


Тактическое
===========
- [ ] MDBX: добавить в интерфейс минимум для поддержки внешней аллокации
      внутренних объектов, которые требуется для курсоров и транзакций.
- [x] MDBX: подумать о выносе компараторов из транзакций в env,
      с установкой непосредственно из аргументов open_dbi().
- [ ] MDBX: завершить оптимизацию mdbx_open_dbi_ex() с установкой компараторов.
- [x] ALL: поддержка travis-ci.
- [ ] FPTA: пропуск schema_rwlock когда alterable_schema == false.
- [ ] FPTA: поддержка пулов и/или внешней аллокации объектов для курсоров и транзакций.
- [ ] FPTU, FPTA: плюшки для С++ (конструкторы объектов, гарды, operator[], смузи-шаблончики, хелперы и т. п.).
- [x] FPTA: fptu_now().
- [x] FPTA: возможность предварительной проверки корректности insert/update (уникальность для индексов).
- [x] MDBX: добавить уровень "mustdie.h" для некой поддержки Windows (должно собираться и немного работать).
- [ ] FPTA: fpta_strerror() и прочие "строки".
- [x] MDBX: добавить функцию получения статуса страницы с данными, чтобы позволить копирование-по-необходимости из грязных страниц.
- [ ] MDBX: реализовать "мягкий" возврат страниц в unallocated-пул (при возврате сравнивать с границей и двигать её).
- [ ] MDBX: избавиться от умножений на размер страницы (заменить на сдвиг).
- [ ] FPTA: API для получения списка колонок и их атрибутов для заданной таблицы.
- [ ] ALL: допеределать поддержку CFLAGS для различных типов сборок в CMake.
- [ ] ALL: добавить поддержку маркера версии в CMake и API.

Тесты (функциональные и нагрузочные)
====================================
- [ ] демонстрация на C основных возможностей и скорости.
- [ ] демонстрация на C++ сервиса/удобства и скорости.
- [ ] подключение к ioarena (плюс t1ha как генератор ключей для ioarena).
- [ ] стохастический сценарий конкурирующих читателей, писателей и "изменятелей" схемы.
- [ ] длительный нагрузочный тест с отслеживанием latency и throughput для нескольких (3-5) вариантов схемы/запросов.
- [ ] тест производительности с итеративным усложнением схемы (кол-во колонок, и индексов).
- [ ] тест durability для всех режимов.


Юнит-тесты
===========

##0corny
- [x] проверка валидатора имен таблиц/колонок.
- [ ] проверка __всех__ констант/флагов и комбинаций на допустимость/корректность.
- [x] проверка fptu_now().

##1open
- [x] базовый тест на открытие/создание БД в различных режимах.
- [ ] проверка на поврежденных базах (не mdbx).
- [ ] проверка на кривых базах (без схемы, без части таблиц).
- [ ] проверка с поврежденной и некорректной схемой.

##2schema
- [x] описания колонок с корректными и не-корректными параметрами.
- [x] базовый тест создания схемы.
- [ ] тест на превышение всяческих лимитов, кол-ва индексов, на запрещенные комбинации.
- [ ] тест с неверными def-записями схемы.
- [ ] тест с инжектированием ошибок при изменении схемы.
- [ ] тест на откат изменений при прерываний транзакции (или перенести в транзакции).
- [ ] конкурирующее обновление схемы (проверка кэширования и авто-обновления).

##3smoke
- [x] простой тест с одним первичным индексом: создание БД, схемы, вставка, обновление, удаление, перемещение курсора.
- [x] простой тест с одним вторичным индексом: создание БД, схемы, вставка, обновление, удаление, перемещение курсора.
- [x] проверка изменений через вторичные индексы, в том числе с нарушением уникальности.
- [ ] проба fpta_del() для записи с существующим PK, но различием в данных.

##4data
- [x] проверка конвертации, выход вне диапазона типа.
- [x] проверка сравнения для всех комбинаций типов полей и типов значений.

##5key
- [x] формирование ключей для всех индексируемых типов и всех типов индексов.
- [x] проверка упорядоченности и уникальности ключей.
- [x] плохие типы, плохие значения, потеря точности.
- [x] длинные ключи.
- [ ] конвертация ключа в значение (для всех комбинаций типов ключей и значений).

##6index
- [x] создание таблиц с одним PK для всех типов полей и всех типов индексов.
- [x] заполнение и последовательная выборка с контролем порядка для ordered.
- [x] заполнение и выборка с контролем полноты для unordered.
- [x] длинные ключи, obverse/reverse, string/binary, создание и выборка с контролем последовательности.
- [x] базовый тест вторичных индексов.
- [x] комбинаторный тест всех типов PK со всеми вариантами вторичных индексов.

##7cursor
- [x] по всем типам полей и индексов: выборка без range, с контролем последовательности и/или полноты, по возрастанию/убыванию.
- [x] совместимость ordered/unordered.
- [x] хождение "конем" вперед/назад, в начало/конец.
- [x] по возрастанию/убыванию.
- [ ] хождение по дубликатам, первый/последний, вперед/назад, "конем".
- [ ] позиционирование на конкретные и ближайшие значения.
- [ ] недопустимость update с изменением ключа.
- [ ] проверка удаления с контролем перехода к следующей записи, удаление последней записи, удаление первой при обратном порядке.
- [ ] проверка коллизий при изменении/удалении данных в обход курсора (через другой курсор, непосредственно).
- [ ] обновление с изменением PK.
- [ ] обновление с изменением 1-2-3-максимумом колонок.

##8filter
- [ ] проверка фильтра для кортежа.
- [ ] больше, меньше, равно, не-равно.
- [ ] and, or, not.
- [ ] вызов функтора.

##8select
- [ ] выборка с range: от begin, до end, между begin и end.
- [ ] проверка выборки с фильтром.
- [ ] хождение курсором с фильтром: "конем" вперед/назад, в начало/конец, по возрастанию/убыванию.
- [ ] хождение курсором с фильтром по range с проверкой стопора на границах и вылета из диапазона.
- [ ] позиционирование на конкретные и ближайшие значения, проверка на выход из range.

##9crud
- [ ] создание таблиц с одним PK для всех типов полей и всех типов индексов.
- [ ] вставка 1-2-3 небольших записей, проба дубликатов, обновление, проверка наличия, удаление.
- [ ] вставка 1-2-3 больших записей, проба дубликатов, обновление, проверка наличия, удаление.
- [ ] вставка 1-2-3 миллионов небольших записей, проба дубликатов, проверка наличия, обновление, удаление.
- [ ] вставка 1-2-3 тысяч больших записей, проба дубликатов, обновление, проверка наличия, удаление.
- [ ] обновление с изменением 1-2-3-всех колонок.
- [ ] вставка/обновление с нарушением уникальности.
- [ ] тест с инжектированием ошибок при изменениях.

##@limits
- [ ] вставка "максимальных" записей: строки максимальной длины, максимальное кол-во полей, максимальный размер кортежей, для разных индексов, и т.п.
- [ ] когда и как умираем: максимум таблиц, с максимумом колонок, с максимумом индексов.
